<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Masterclass â€” Variance</title>
    <meta name="description" content="Variance en probabilitÃ©s et statsâ€¯: dÃ©finitions, calculs, propriÃ©tÃ©s, schÃ©ma dynamique, quiz, exercices, applications, erreurs, lexique et histoire pour rÃ©ussir en spÃ©.">
    <style>
        body { background: #f6f8fa; font-family: 'Segoe UI', Arial, sans-serif; color: #222; margin: 0;}
        header { background: linear-gradient(90deg,#eef4fb,#ccefff 90%); color: #243552; padding: 28px 0 12px; text-align: center;}
        header h1 { font-size: 2.2rem; margin: 0 0 13px; color: #1877f2;}
        .intro { font-size: 1.01rem;}
        main { max-width: 730px; background: #fff; margin: 45px auto 20px; padding: 30px 45px; border-radius: 18px; box-shadow: 0 9px 28px rgba(24,119,242,0.13);}
        h2 { color: #1877f2; margin-top: 32px;}
        h3 { color: #f5a623; margin-top: 22px;}
        ul, ol { margin-left: 1.4em;}
        .box, .infos { padding: 12px 20px; border-radius: 6px; margin: 1.1em 0; font-size: 0.97rem;}
        .infos {background: #e3f6ff; border-left: 6px solid #1877f2;}
        .box-exo {background: #e5ffe7; border-left: 7px solid #167c2b;}
        .box-important {background: #fff7ec; border-left: 7px solid #f5a623;}
        .error {background: #ffeaea; border-left: 7px solid #e06359;}
        .lexique {background: #f7fafd; border-left: 7px solid #243552; padding: 12px; border-radius: 6px; margin: 1.2em 0;}
        .anecdote {background: #e8fffc; border-left: 7px solid #27c7b3; margin: 1em 0; padding: 12px 18px; border-radius: 6px;}
        .source { font-size: 0.9em; color: #999; text-align: right;}
        button {background: #1877f2; color: #fff; font-weight: bold; border: none; border-radius: 6px; padding: 8px 16px; cursor: pointer; margin-right: 7px; margin-top: 7px; transition: background 0.2s;}
        button:hover { background: #145ac3;}
        #schema { margin: 1em auto; display: block; background: #e3f6ff; border-radius: 8px; border: 1px solid #1877f2;}
        .reponse { margin-top: 0.7em; color: #1877f2; font-weight: bold; text-align: center;}
        label { margin-right: 14px;}
        @media (max-width: 768px) { main { padding: 12px 2px; } }
        table.loi { border-collapse: collapse; margin: 14px auto; }
        table.loi th, table.loi td { border: 1px solid #d0e5f9; padding: 7px 13px; text-align: center;}
        table.loi th { background: #e3f6ff; color: #1877f2;}
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
<header>
    <h1>Masterclass â€” Variance</h1>
    <div class="intro">
        DÃ©finitions, calculs, propriÃ©tÃ©s, schÃ©ma interactif, quiz, exercices, applications et astuces pour comprendre et utiliser la variance en probabilitÃ©s et statistiquesâ€¯!
    </div>
</header>
<main>
<section>
    <h2>ğŸ“ DÃ©finitions & concepts</h2>
    <div class="infos">
        La <b>variance</b> dâ€™une variable alÃ©atoire X mesure la dispersion de ses valeurs autour de lâ€™espÃ©rance :  
        <b>\( V(X) = E[(X-E(X))^2] \)</b><br>
        Pour les variables discrÃ¨tesâ€¯:  
        <b>\( V(X) = E(X^2) - [E(X)]^2 \)</b> (oÃ¹ \( E(X^2) = \sum x_i^2 P(X=x_i) \))
    </div>
    <ul>
        <li>Plus la variance est grande, plus les rÃ©sultats possibles sont â€œÃ©parpillÃ©sâ€</li>
        <li>La racine carrÃ©e de la variance est <b>lâ€™Ã©cart-type</b>, trÃ¨s utilisÃ©e en stats</li>
    </ul>
</section>
<section>
    <h2>ğŸ“— PropriÃ©tÃ©s et calculs classiques</h2>
    <ul>
        <li>Formule de variance pour \( Y = aX+b \)â€¯:  
            - \( V(aX+b) = a^2 V(X) \) (b nâ€™influence pas la dispersion)</li>
        <li>Variance de la binomiale \( B(n,p) \)â€¯:  
            - \( V(X) = n p (1-p) \)</li>
        <li>Variance nulleâ€¯: variable constante (pas de dispersion)</li>
    </ul>
    <div class="box-important">
        Astuceâ€¯: La variance te renseigne sur la â€œstabilitÃ©â€ dâ€™un jeu/dâ€™une expÃ©rience â€” faibleâ€¯: rÃ©sultat proche de la moyenne, forteâ€¯: rÃ©sultats trÃ¨s variablesâ€¯!
    </div>
</section>
<section>
    <h2>ğŸŸ¦ SchÃ©ma dynamique : calcul sur loi Ã  3 valeurs</h2>
    <table class="loi">
        <tr><th>x</th><th>P(X=x)</th></tr>
        <tr><td><input type="number" id="x1" value="0"></td><td><input type="number" id="p1" step="0.01" value="0.1"></td></tr>
        <tr><td><input type="number" id="x2" value="2"></td><td><input type="number" id="p2" step="0.01" value="0.7"></td></tr>
        <tr><td><input type="number" id="x3" value="5"></td><td><input type="number" id="p3" step="0.01" value="0.2"></td></tr>
    </table>
    <div id="schema"></div>
    <div id="desc-var"></div>
</section>
<section class="box box-exo">
    <h2>ğŸ’¡ Exercice interactif</h2>
    <p>On joue Ã  un jeu : gains 0â‚¬ (p=0,1), 2â‚¬ (p=0,7), 5â‚¬ (p=0,2). Calcule la variance.</p>
    <button onclick="afficheReponseVar()">Voir la correction</button>
    <div class="reponse" id="exo-reponse-var" style="display:none;">
        E(X) = 0Ã—0,1 + 2Ã—0,7 + 5Ã—0,2 = 0 + 1,4 + 1 = 2,4 <br>
        E(XÂ²) = 0Â²Ã—0,1 + 2Â²Ã—0,7 + 5Â²Ã—0,2 = 0 + 2,8 + 5 = 7,8 <br>
        Variance : V(X) = 7,8 - 2,4Â² = 7,8 - 5,76 = 2,04
    </div>
</section>
<section class="box-exo">
    <h2>ğŸ”¥ Exercice â€œexpertâ€</h2>
    <p>X~Binomiale(6;0,4). Calcule la variance.</p>
    <button onclick="document.getElementById('exo2-reponse-var').style.display='block';">Voir la correction</button>
    <div class="reponse" id="exo2-reponse-var" style="display:none;">
        Variance : V(X) = nÃ—pÃ—(1-p) = 6Ã—0,4Ã—0,6 = 1,44
    </div>
</section>
<section class="quiz">
    <h2>ğŸ¯ Quiz express</h2>
    <p>La variance mesure :</p>
    <button onclick="quizVar(0)">La dispersion autour de la moyenne</button>
    <button onclick="quizVar(1)">Lâ€™espÃ©rance</button>
    <button onclick="quizVar(2)">La probabilitÃ© la plus forte</button>
    <div class="reponse" id="rep-quiz-var"></div>
    <p>Lâ€™Ã©cart-type est :</p>
    <button onclick="quizVar2(0)">La racine carrÃ©e de la variance</button>
    <button onclick="quizVar2(1)">La somme des proba</button>
    <button onclick="quizVar2(2)">Le carrÃ© de la moyenne</button>
    <div class="reponse" id="rep-quiz-var2"></div>
</section>
<section class="box-important">
    <h2>ğŸŒ Applications concrÃ¨tes</h2>
    <ul>
        <li>Finance/Jeuxâ€¯: calcul de risque, stabilitÃ© dâ€™une stratÃ©gie</li>
        <li>Statsâ€¯: mesurer la fiabilitÃ© dâ€™une estimation (plus la variance est faible, meilleur est lâ€™estimateur)</li>
        <li>Physiqueâ€¯: propagation, incertitude de mesure, lois de diffusionâ€¦</li>
        <li>Info/IAâ€¯: analyse des distributions, sÃ©lection de modÃ¨les</li>
    </ul>
</section>
<section class="error">
    <h2>âŒ Erreurs frÃ©quentes Ã  Ã©viter</h2>
    <ul>
        <li>Oublier E(XÂ²) ou mal calculer la pondÃ©ration (carrÃ© AVANT multiplication)</li>
        <li>Confondre variance et Ã©cart-type</li>
        <li>Penser quâ€™une variance nulle signifie forcÃ©ment â€œproba 1â€ (juste variable constante)</li>
        <li>Ignorer la formule pour Y=aX+b (bien penser au carrÃ© sur a !)</li>
    </ul>
</section>
<section class="lexique">
    <h2>ğŸ“š Lexique express</h2>
    <b>Variance</b>: mesure de dispersion<br>
    <b>EspÃ©rance</b>: moyenne attendue<br>
    <b>Ecart-type</b>: racine de la variance<br>
    <b>PondÃ©ration</b>: â€œpoidsâ€ attribuÃ© Ã  chaque valeur
</section>
<section class="rubrique">
    <h3>ğŸ“– Petite histoire</h3>
    <ul>
        <li>La variance apparaÃ®t dÃ¨s le XIXe siÃ¨cle (Gauss, Laplace) pour mieux Ã©valuer la qualitÃ© des mesures et prÃ©dictions</li>
        <li>Essentielle pour tout test statistique, analyse de risques, IA moderne</li>
    </ul>
    <div class="source">Sourceâ€¯: histoire des stats et proba, Wikipedia</div>
</section>
<section class="anecdote">
    <b>Astuce-mÃ©moire</b>: â€œVariance Ã©levÃ©eâ€¯: les valeurs sont dans tous les sens ; variance faibleâ€¯: fiable et stableâ€¯!â€
</section>
<section>
    <h2>ğŸ’¡ MÃ©thodologie pour progresser</h2>
    <ul>
        <li>Teste et recalcule E(X) et E(XÂ²), puis la diffÃ©rence</li>
        <li>Utilise le schÃ©ma interactif, modifie les lois/dispersions pour voir lâ€™effet</li>
        <li>Pense toujours Ã  lâ€™Ã©cart-type (plus manipulable)â€¯!</li>
        <li>Relie variance et stabilitÃ© pour comprendre lâ€™intÃ©rÃªt dans les QCM, stats ou physique</li>
    </ul>
</section>
</main>
<script>
function quizVar(rep) {
    let repElem = document.getElementById("rep-quiz-var");
    repElem.textContent = (rep === 0) ? "Bravoâ€¯! La variance quantifie la dispersion autour de la moyenne." : "Non, attention, ce nâ€™est pas une moyenne ni une proba directe.";
}
function quizVar2(rep) {
    let repElem = document.getElementById("rep-quiz-var2");
    repElem.textContent = (rep === 0) ? "Bonne rÃ©ponseâ€¯! Lâ€™Ã©cart-type est la racine carrÃ©e de la variance." : "Non, revois la dÃ©finition !";
}
function afficheReponseVar() {
    document.getElementById("exo-reponse-var").style.display = "block";
}
// SchÃ©ma dynamique variance
function drawVar() {
    let x1 = parseFloat(document.getElementById("x1").value);
    let x2 = parseFloat(document.getElementById("x2").value);
    let x3 = parseFloat(document.getElementById("x3").value);
    let p1 = parseFloat(document.getElementById("p1").value);
    let p2 = parseFloat(document.getElementById("p2").value);
    let p3 = parseFloat(document.getElementById("p3").value);
    let E = x1*p1 + x2*p2 + x3*p3;
    let E2 = x1*x1*p1 + x2*x2*p2 + x3*x3*p3;
    let V = E2-E*E;
    let sV = Math.sqrt(V);
    document.getElementById("desc-var").innerHTML =
        "Variance : "+V.toFixed(2)+
        "<br>Ecart-type : "+sV.toFixed(2)+
        "<br>Somme des proba : "+(p1+p2+p3).toFixed(2);
    // Histogramme
    let canvas = document.createElement('canvas');
    canvas.width=320; canvas.height=80;
    let ctx = canvas.getContext("2d");
    let vals = [x1,x2,x3], ps = [p1,p2,p3];
    for(let i=0;i<3;i++){
        ctx.fillStyle="#1877f2"; ctx.fillRect(20+90*i,70-ps[i]*60,40,ps[i]*60);
        ctx.fillStyle="#222";ctx.fillText("x="+vals[i],32+90*i,75);
        ctx.fillText("p="+ps[i],32+90*i,62-ps[i]*60);
    }
    document.getElementById("schema").innerHTML="";
    document.getElementById("schema").appendChild(canvas);
}
drawVar();
["x1","x2","x3","p1","p2","p3"].forEach(id=>{
    document.getElementById(id).addEventListener("input",drawVar);
});
</script>
</body>
</html>
