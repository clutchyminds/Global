<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Masterclass ‚Äî Esp√©rance math√©matique</title>
    <meta name="description" content="Esp√©rance de variable al√©atoire : d√©finition, calculs, propri√©t√©s, sch√©ma interactif, quiz, exercices, applications et erreurs typiques pour r√©ussir en sp√© maths.">
    <style>
        body { background: #f6f8fa; font-family: 'Segoe UI', Arial, sans-serif; color: #222; margin: 0;}
        header { background: linear-gradient(90deg,#eef4fb,#fff3be 90%); color: #243552; padding: 28px 0 12px; text-align: center;}
        header h1 { font-size: 2.2rem; margin: 0 0 13px; color: #1877f2;}
        .intro { font-size: 1.01rem;}
        main { max-width: 730px; background: #fff; margin: 45px auto 20px; padding: 30px 45px; border-radius: 18px; box-shadow: 0 9px 28px rgba(24,119,242,0.13);}
        h2 { color: #1877f2; margin-top: 32px;}
        h3 { color: #f5a623; margin-top: 22px;}
        ul, ol { margin-left: 1.4em;}
        .box, .infos { padding: 12px 20px; border-radius: 6px; margin: 1.1em 0; font-size: 0.97rem;}
        .infos {background: #fffadd; border-left: 6px solid #e9c400;}
        .box-exo {background: #e5ffe7; border-left: 7px solid #167c2b;}
        .box-important {background: #fff7ec; border-left: 7px solid #f5a623;}
        .error {background: #ffeaea; border-left: 7px solid #e06359;}
        .lexique {background: #f7fafd; border-left: 7px solid #243552; padding: 12px; border-radius: 6px; margin: 1.2em 0;}
        .anecdote {background: #e8fffb; border-left: 7px solid #1bb3ac; margin: 1em 0; padding: 12px 18px; border-radius: 6px;}
        .source { font-size: 0.9em; color: #999; text-align: right;}
        button {background: #1877f2; color: #fff; font-weight: bold; border: none; border-radius: 6px; padding: 8px 16px; cursor: pointer; margin-right: 7px; margin-top: 7px; transition: background 0.2s;}
        button:hover { background: #145ac3;}
        #schema { margin: 1em auto; display: block; background: #fffce3; border-radius: 8px; border: 1px solid #e9c400;}
        .reponse { margin-top: 0.7em; color: #1877f2; font-weight: bold; text-align: center;}
        label { margin-right: 14px;}
        @media (max-width: 768px) { main { padding: 12px 2px; } }
        table.loi { border-collapse: collapse; margin: 14px auto; }
        table.loi th, table.loi td { border: 1px solid #f5e7b5; padding: 7px 13px; text-align: center;}
        table.loi th { background: #fffadd; color: #bba723;}
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
<header>
    <h1>Masterclass ‚Äî Esp√©rance math√©matique</h1>
    <div class="intro">
        D√©finitions, propri√©t√©s, exemples, sch√©ma interactif, quiz, exercices et applications pour comprendre et r√©ussir tous les calculs d‚Äôesp√©rance‚ÄØ!
    </div>
</header>
<main>
<section>
    <h2>üìù D√©finitions & fondamentaux</h2>
    <div class="infos">
        L‚Äô<b>esp√©rance</b> d‚Äôune variable al√©atoire X, not√©e \( E(X) \), repr√©sente la moyenne th√©orique obtenue apr√®s un tr√®s grand nombre de r√©p√©titions.<br>
        <b>\( E(X) = \sum x_i \cdot P(X=x_i) \)</b> pour X discr√®te (ex.‚ÄØ: d√©, loterie, pile/face‚Ä¶)
    </div>
    <ul>
        <li>Pour une variable continue‚ÄØ:  
            \( E(X) = \int_{-\infty}^{+\infty} x \cdot f(x)\,dx \)</li>
        <li>L‚Äôesp√©rance ne correspond pas forc√©ment √† une valeur effectivement r√©alisable</li>
        <li>Elle sert √† pr√©voir les ‚Äúgains attendus‚Äù, optimiser des syst√®mes de jeu, ou calculer des moyennes de distribution</li>
    </ul>
</section>
<section>
    <h2>üìó Propri√©t√©s et calculs classiques</h2>
    <ul>
        <li>L‚Äôesp√©rance est lin√©aire‚ÄØ:  
            - \( E(aX+b) = aE(X)+b \)
            - \( E(X+Y) = E(X) + E(Y) \) si X et Y al√©atoires</li>
        <li>Pour une loi binomiale B(n,p)‚ÄØ:  
            - \( E(X) = n \times p \)</li>
        <li>Pour une loi uniforme sur n valeurs‚ÄØ:  
            - \( E(X) = \frac{\text{premi√®re valeur} + \text{derni√®re}}{2} \)</li>
    </ul>
    <div class="box-important">
        Astuce‚ÄØ: L‚Äôesp√©rance te dit ‚Äúcombien on peut gagner/perdre en moyenne‚Äù sur le long terme et sert √† choisir la meilleure strat√©gie !
    </div>
</section>
<section>
    <h2>üü¶ Sch√©ma dynamique ‚Äî loi √† 3 valeurs</h2>
    <table class="loi">
        <tr><th>x</th><th>P(X=x)</th></tr>
        <tr><td><input type="number" id="x1" value="0"></td><td><input type="number" id="p1" step="0.01" value="0.3"></td></tr>
        <tr><td><input type="number" id="x2" value="2"></td><td><input type="number" id="p2" step="0.01" value="0.5"></td></tr>
        <tr><td><input type="number" id="x3" value="5"></td><td><input type="number" id="p3" step="0.01" value="0.2"></td></tr>
    </table>
    <div id="schema"></div>
    <div id="desc-esp"></div>
</section>
<section class="box box-exo">
    <h2>üí° Exercice interactif</h2>
    <p>On joue √† un jeu‚ÄØ: gain possible 0‚Ç¨ (p=0,3), 2‚Ç¨ (p=0,5), 5‚Ç¨ (p=0,2).  
    Calcule l‚Äôesp√©rance.</p>
    <button onclick="afficheReponseEsp()">Voir la correction</button>
    <div class="reponse" id="exo-reponse-esp" style="display:none;">
        E(X) = 0√ó0,3 + 2√ó0,5 + 5√ó0,2 = 0 + 1 + 1 = 2‚Ç¨
    </div>
</section>
<section class="box-exo">
    <h2>üî• Exercice ‚Äúexpert‚Äù</h2>
    <p>Pour X~B(4;0,3), calcule E(X).</p>
    <button onclick="document.getElementById('exo2-reponse-esp').style.display='block';">Voir la correction</button>
    <div class="reponse" id="exo2-reponse-esp" style="display:none;">
        Binomiale‚ÄØ: E(X) = n √ó p = 4 √ó 0,3 = 1,2
    </div>
</section>
<section class="quiz">
    <h2>üéØ Quiz express</h2>
    <p>L‚Äôesp√©rance d‚Äôune variable discr√®te est :</p>
    <button onclick="quizEsp(0)">sa moyenne pond√©r√©e</button>
    <button onclick="quizEsp(1)">sa valeur la plus probable</button>
    <div class="reponse" id="rep-quiz-esp"></div>
    <p>Pour une loi uniforme sur 6 valeurs (d√© √©quilibr√©), l‚Äôesp√©rance vaut :</p>
    <button onclick="quizEsp2(0)">3,5</button>
    <button onclick="quizEsp2(1)">6</button>
    <button onclick="quizEsp2(2)">1</button>
    <div class="reponse" id="rep-quiz-esp2"></div>
</section>
<section class="box-important">
    <h2>üåê Applications concr√®tes</h2>
    <ul>
        <li><b>Finance/Jeux</b>‚ÄØ: gains attendus, strat√©gies, assurance</li>
        <li><b>Stats/Physique</b>‚ÄØ: moyenne de mesures, pr√©vision d‚Äô√©volution</li>
        <li><b>Info/IA</b>‚ÄØ: strat√©gie de d√©cision, calculs d‚Äôesp√©rance de temps, ‚Äúth√©orie des jeux‚Äù</li>
    </ul>
</section>
<section class="error">
    <h2>‚ùå Erreurs fr√©quentes √† √©viter</h2>
    <ul>
        <li>Oublier que la somme des p(x) doit valoir 1</li>
        <li>Confondre esp√©rance et valeur la plus probable (mode)</li>
        <li>Faire des erreurs de calcul sur les pond√©rations</li>
        <li>Appliquer la formule continue √† une variable discr√®te</li>
    </ul>
</section>
<section class="lexique">
    <h2>üìö Lexique express</h2>
    <b>Esp√©rance</b>: moyenne th√©orique<br>
    <b>Variable al√©atoire</b>: grandeur li√©e au hasard<br>
    <b>Loi</b>: distribution sur les valeurs possibles<br>
    <b>Pond√©ration</b>: ‚Äúpoids‚Äù attribu√© √† chaque issue
</section>
<section class="rubrique">
    <h3>üìñ Petite histoire</h3>
    <ul>
        <li>L‚Äôesp√©rance na√Æt √† l‚Äô√©poque des jeux de hasard/analyse des risques (Pascal, Fermat, Bernoulli‚Ä¶ XVIIe si√®cle)</li>
        <li>Bases de l‚Äôactuariat et de la finance moderne</li>
        <li>D√©terminante pour choisir les strat√©gies de jeu et optimiser les d√©cisions num√©riques</li>
    </ul>
    <div class="source">Source‚ÄØ: histoire des maths et des probabilit√©s, Wikipedia</div>
</section>
<section class="anecdote">
    <b>Astuce-m√©moire</b>: ‚ÄúL‚Äôesp√©rance c‚Äôest ce que tu gagnes en moyenne si tu joues des milliers de fois‚ÄØ!‚Äù
</section>
<section>
    <h2>üí° M√©thodologie pour progresser</h2>
    <ul>
        <li>Commence par v√©rifier les proba puis calcule la pond√©ration</li>
        <li>Teste sur jeux classiques, pile/face, loterie, binomiale</li>
        <li>Utilise le sch√©ma dynamique pour varier les valeurs/gains</li>
        <li>Pense √† la diff√©rence entre esp√©rance et moyenne observ√©e sur un √©chantillon limit√©</li>
    </ul>
</section>
</main>
<script>
function quizEsp(rep) {
    let repElem = document.getElementById("rep-quiz-esp");
    repElem.textContent = (rep === 0) ? "Bravo ! L‚Äôesp√©rance est la moyenne pond√©r√©e des valeurs." : "Non, attention, la plus probable n‚Äôest pas forc√©ment la moyenne.";
}
function quizEsp2(rep) {
    let repElem = document.getElementById("rep-quiz-esp2");
    repElem.textContent = (rep === 0) ? "Bonne r√©ponse ! 3,5 pour 1,2,3,4,5,6." : "Non, fais la somme pond√©r√©e¬†!";
}
function afficheReponseEsp() {
    document.getElementById("exo-reponse-esp").style.display = "block";
}
function drawEsp() {
    let x1 = parseFloat(document.getElementById("x1").value);
    let x2 = parseFloat(document.getElementById("x2").value);
    let x3 = parseFloat(document.getElementById("x3").value);
    let p1 = parseFloat(document.getElementById("p1").value);
    let p2 = parseFloat(document.getElementById("p2").value);
    let p3 = parseFloat(document.getElementById("p3").value);
    let E = x1*p1 + x2*p2 + x3*p3;
    document.getElementById("desc-esp").innerHTML =
        "Esp√©rance calcul√©e: "+E.toFixed(2)+
        "<br>Pense √† v√©rifier la somme p(x): "+(p1+p2+p3).toFixed(2);
    // Histogramme
    let canvas = document.createElement('canvas');
    canvas.width=320; canvas.height=80;
    let ctx = canvas.getContext("2d");
    let vals = [x1,x2,x3], ps = [p1,p2,p3];
    for(let i=0;i<3;i++){
        ctx.fillStyle="#e9c400"; ctx.fillRect(20+90*i,70-ps[i]*60,40,ps[i]*60);
        ctx.fillStyle="#222";ctx.fillText("x="+vals[i],32+90*i,75);
        ctx.fillText("p="+ps[i],32+90*i,63-ps[i]*60);
    }
    document.getElementById("schema").innerHTML="";
    document.getElementById("schema").appendChild(canvas);
}
drawEsp();
["x1","x2","x3","p1","p2","p3"].forEach(id=>{
    document.getElementById(id).addEventListener("input",drawEsp);
});
</script>
</body>
</html>
