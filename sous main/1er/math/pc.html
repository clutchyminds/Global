<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Masterclass ‚Äî Probabilit√©s conditionnelles</title>
    <meta name="description" content="Tout sur les probabilit√©s conditionnelles‚ÄØ: formules, arbres, exercices, quiz, sch√©ma interactif, lexique, erreurs, applications‚Ä¶ pour r√©ussir en sp√© maths !">
    <style>
        body { background: #f6f8fa; font-family: 'Segoe UI', Arial, sans-serif; color: #222; margin: 0;}
        header { background: linear-gradient(90deg,#eef4fb,#fadada 80%); color: #243552; padding: 28px 0 12px; text-align: center;}
        header h1 { font-size: 2.2rem; margin: 0 0 12px; color: #1877f2;}
        .intro { font-size: 1.01rem;}
        main { max-width: 730px; background: #fff; margin: 45px auto 20px; padding: 30px 45px; border-radius: 18px; box-shadow: 0 9px 28px rgba(24,119,242,0.12);}
        h2 { color: #1877f2; margin-top: 32px;}
        h3 { color: #f5a623; margin-top: 22px;}
        ul, ol { margin-left: 1.4em;}
        .box, .infos { padding: 12px 20px; border-radius: 6px; margin: 1.1em 0; font-size: 0.97rem;}
        .infos {background: #e7f3fa; border-left: 6px solid #1877f2;}
        .box-exo {background: #e5ffe7; border-left: 7px solid #167c2b;}
        .box-important {background: #fff7ec; border-left: 7px solid #f5a623;}
        .error {background: #ffeaea; border-left: 7px solid #e06359;}
        .lexique {background: #f7fafd; border-left: 7px solid #243552; padding: 12px; border-radius: 6px; margin: 1.2em 0;}
        .anecdote {background: #ffe8ff; border-left: 7px solid #a133ff; margin: 1em 0; padding: 12px 18px; border-radius: 6px;}
        .source { font-size: 0.9em; color: #999; text-align: right;}
        button {background: #1877f2; color: #fff; font-weight: bold; border: none; border-radius: 6px; padding: 8px 16px; cursor: pointer; margin-right: 7px; margin-top: 7px; transition: background 0.2s;}
        button:hover { background: #145ac3;}
        #schema { margin: 1em auto; display: block; background: #e7f3f7; border-radius: 8px; border: 1px solid #d1d5db;}
        .reponse { margin-top: 0.7em; color: #1877f2; font-weight: bold; text-align: center;}
        label { margin-right: 14px;}
        @media (max-width: 768px) { main { padding: 12px 2px; } }
    </style>
</head>
<body>
<header>
    <h1>Masterclass ‚Äî Probabilit√©s conditionnelles</h1>
    <div class="intro">
        Ma√Ætrise toutes les bases et techniques pour calculer P(A|B), raisonner avec des √©v√©nements d√©pendants, les arbres, le th√©or√®me de Bayes, et r√©ussir tous les QCM !
    </div>
</header>
<main>
<section>
    <h2>üìù D√©finition, vocabulaire et bases</h2>
    <div class="infos">
        La <b>probabilit√© conditionnelle</b> de A sachant B est not√©e \( P(A|B) \),  
        et mesure la probabilit√© que A se r√©alise sachant que B est d√©j√† arriv√© :  
        <b>\( P(A|B) = \frac{P(A \cap B)}{P(B)} \)</b> (si \( P(B) > 0 \))
    </div>
    <ul>
        <li>Lecture : ‚Äúla proba d‚Äôavoir A une fois qu‚Äôon sait que B est r√©alis√©‚Äù</li>
        <li>Si A et B sont ind√©pendants : \( P(A|B) = P(A) \)</li>
        <li>Th√©or√®me : \( P(A \cap B) = P(A|B)P(B) = P(B|A)P(A) \)</li>
        <li>Utilisation : encha√Ænement d‚Äô√©v√©nements d√©pendants, arbres, jeux, diagnostiques‚Ä¶</li>
    </ul>
</section>
<section>
    <h2>üìó Formules et techniques courantes</h2>
    <ul>
        <li>Arbre de probabilit√©s : chaque chemin correspond √† un √©v√©nement compos√©</li>
        <li>Probabilit√© totale (partition) :  
            \( P(A) = P(A|B)P(B) + P(A|\overline{B})P(\overline{B}) \)</li>
        <li>Th√©or√®me de Bayes (retour) :  
            \( P(B|A) = \frac{P(A|B)P(B)}{P(A)} \)</li>
        <li>Exemple : succ√®s/√©chec, malades/test√©s, tirages sans remise‚Ä¶</li>
    </ul>
    <div class="box-important">
        Astuce‚ÄØ: Utilise un sch√©ma (arbre) pour visualiser les encha√Ænements d‚Äô√©v√©nements conditionn√©s !
    </div>
</section>
<section>
    <h2>üü¶ Sch√©ma interactif (arbre simple √† deux niveaux)</h2>
    <label>P(B): <input type="number" id="pb" step="0.01" value="0.4" min="0.01" max="0.99"></label>
    <label>P(A|B): <input type="number" id="pab" step="0.01" value="0.7" min="0.01" max="0.99"></label>
    <label>P(A|¬¨B): <input type="number" id="pab2" step="0.01" value="0.3" min="0.01" max="0.99"></label>
    <canvas id="schema" width="430" height="220"></canvas>
    <div id="desc-proba"></div>
</section>
<section class="box box-exo">
    <h2>üí° Exercice interactif</h2>
    <p>Dans une urne, 40% de boules sont rouges (√©v√©nement B), P(A|B)=0,7 (gagner avec une boule rouge), P(A|¬¨B)=0,3 (gagner sans rouge).  
    Calcule P(A).</p>
    <button onclick="afficheReponseProba()">Voir la correction</button>
    <div class="reponse" id="exo-reponse-proba" style="display:none;">
        P(A) = 0,7√ó0,4 + 0,3√ó0,6 = 0,28 + 0,18 = 0,46  
    </div>
</section>
<section class="box-exo">
    <h2>üî• Exercice ‚Äúexpert‚Äù</h2>
    <p>Avec les m√™mes donn√©es, calcule P(B|A).</p>
    <button onclick="document.getElementById('exo2-reponse-proba').style.display='block';">Voir la correction</button>
    <div class="reponse" id="exo2-reponse-proba" style="display:none;">
        P(B|A) = (0,7√ó0,4)/0,46 ‚âà 0,609 (th√©or√®me de Bayes)
    </div>
</section>
<section class="quiz">
    <h2>üéØ Quiz express</h2>
    <p>Si A et B sont ind√©pendants, alors‚ÄØ:</p>
    <button onclick="quizProba(0)">\( P(A|B) = P(A) \)</button>
    <button onclick="quizProba(1)">\( P(A|B) = P(B) \)</button>
    <button onclick="quizProba(2)">\( P(A|B) = 1 \)</button>
    <div class="reponse" id="rep-quiz-proba"></div>
    <p>Dans un sch√©ma, la probabilit√© du chemin ‚ÄúB puis ¬¨A‚Äù vaut‚ÄØ:</p>
    <button onclick="quizProba2(0)">\( P(B)\times P(A|B) \)</button>
    <button onclick="quizProba2(1)">\( P(B)\times (1-P(A|B)) \)</button>
    <button onclick="quizProba2(2)">\( P(A|B)\times (1-P(B)) \)</button>
    <div class="reponse" id="rep-quiz-proba2"></div>
</section>
<section class="box-important">
    <h2>üåê Applications concr√®tes</h2>
    <ul>
        <li><b>M√©decine</b>‚ÄØ: tests diagnostiques, d√©tection maladie</li>
        <li><b>Info/IA</b>‚ÄØ: mod√®les de classification, ‚ÄúBay√©sien‚Äù</li>
        <li><b>Gestion/Jeux</b>‚ÄØ: strat√©gies probabilistes, jeux √† tirages</li>
    </ul>
</section>
<section class="error">
    <h2>‚ùå Erreurs fr√©quentes √† √©viter</h2>
    <ul>
        <li>Confondre P(A|B) et P(B|A)</li>
        <li>Ne pas distinguer √©v√©nements ind√©pendants/d√©pendants</li>
        <li>Mal appliquer le th√©or√®me de Bayes (bien prendre les probabilit√©s totales en d√©nominateur‚ÄØ!)</li>
        <li>Oublier qu‚Äôun arbre doit toujours se ‚Äúfermer‚Äù sur une somme √† 1</li>
    </ul>
</section>
<section class="lexique">
    <h2>üìö Lexique express</h2>
    <b>Conditionnelle</b>&nbsp;: proba sachant une information<br>
    <b>Ind√©pendant</b>&nbsp;: r√©alisation de l‚Äôun ne change pas l‚Äôautre<br>
    <b>Partition</b>&nbsp;: d√©coupage complet de l‚Äôunivers<br>
    <b>Bayes</b>&nbsp;: formule qui inverse cause/effet par les probabilit√©s
</section>
<section class="rubrique">
    <h3>üìñ Petite histoire</h3>
    <ul>
        <li>Formalis√©es par Thomas Bayes (XVIIIe), les probabilit√©s conditionnelles sont le socle de la statistique moderne</li>
        <li>Fondamentales en intelligence artificielle et sciences exp√©rimentales</li>
    </ul>
    <div class="source">Source‚ÄØ: histoire de la proba, Wikipedia</div>
</section>
<section class="anecdote">
    <b>Astuce-m√©moire</b>‚ÄØ: Dessine toujours l‚Äôarbre des √©v√©nements et colorie les chemins pour voir¬†!
</section>
<section>
    <h2>üí° M√©thodologie pour r√©ussir</h2>
    <ul>
        <li>Ecris chaque √©v√©nement, clarifie tes notations (P(A|B) ‚â† P(B|A))</li>
        <li>Faire syst√©matiquement l‚Äôarbre des cas</li>
        <li>Utilise la formule de probabilit√©s totales avant Bayes pour les cas ambigus</li>
        <li>V√©rifie toujours que la somme des branches issues du m√™me sommet vaut 1</li>
    </ul>
</section>
</main>
<script>
function quizProba(rep) {
    let repElem = document.getElementById("rep-quiz-proba");
    repElem.textContent = (rep === 0) ? "Bonne r√©ponse : ind√©pendant ‚áí \( P(A|B) = P(A) \) !" : "Faux, revois la d√©finition d‚Äôind√©pendance.";
}
function quizProba2(rep) {
    let repElem = document.getElementById("rep-quiz-proba2");
    repElem.textContent = (rep === 1) ? "Oui, il faut multiplier par la branche compl√©mentaire." : "Faux, revoie la structure d‚Äôun arbre.";
}
function afficheReponseProba() {
    document.getElementById("exo-reponse-proba").style.display = "block";
}
// Sch√©ma arbre proba
function drawArbreProba() {
    let pb = parseFloat(document.getElementById("pb").value);
    let pab = parseFloat(document.getElementById("pab").value);
    let pab2 = parseFloat(document.getElementById("pab2").value);
    let canvas = document.getElementById("schema");
    let ctx = canvas.getContext("2d");
    ctx.clearRect(0, 0, 430, 220);
    // Arbre
    ctx.strokeStyle="#1877f2"; ctx.lineWidth=2;
    // Tronc
    ctx.beginPath(); ctx.moveTo(60, 100); ctx.lineTo(160, 50); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(60, 100); ctx.lineTo(160, 150); ctx.stroke();
    ctx.font = "13px Arial";
    ctx.fillStyle="#243552"; ctx.fillText("B", 120, 38); ctx.fillText("¬¨B", 120, 162);
    ctx.fillStyle = "#1877f2"; ctx.fillText("P(B)="+pb,87,68); ctx.fillText("P(¬¨B)="+(1-pb).toFixed(2),85,134);
    // Branches 2√®me √©tages
    ctx.strokeStyle="#167c2b";
    ctx.beginPath(); ctx.moveTo(160,50);ctx.lineTo(325,20);ctx.stroke();
    ctx.beginPath();ctx.moveTo(160,50);ctx.lineTo(325,80);ctx.stroke();
    ctx.beginPath(); ctx.moveTo(160,150);ctx.lineTo(325,120);ctx.stroke();
    ctx.beginPath();ctx.moveTo(160,150);ctx.lineTo(325,180);ctx.stroke();
    ctx.font = "13px Arial";
    ctx.fillStyle="#167c2b";
    ctx.fillText("A",265,8);ctx.fillText("¬¨A",265,93);ctx.fillText("A",265,107);ctx.fillText("¬¨A",265,192);
    ctx.fillText("P(A|B)="+pab,220,32);ctx.fillText("P(¬¨A|B)="+(1-pab).toFixed(2),210,66);
    ctx.fillText("P(A|¬¨B)="+pab2,205,118);ctx.fillText("P(¬¨A|¬¨B)="+(1-pab2).toFixed(2),190,154);
    // R√©sultats
    let pA = pab*pb+pab2*(1-pb);
    ctx.font = "13px Arial"; ctx.fillStyle="#a133ff";
    ctx.fillText("P(A) = "+pA.toFixed(3),340,35);
    ctx.fillText("P(B‚à©A) = "+(pb*pab).toFixed(3),340,10);
    ctx.fillText("P(¬¨B‚à©A) = "+((1-pb)*pab2).toFixed(3),340,120);
    ctx.fillText("P(B|A) = "+(pb*pab/pA).toFixed(3),340,190);
    // L√©gende
    document.getElementById("desc-proba").innerHTML =
        "Calculs dynamiques‚ÄØ: P(A) = "+pA.toFixed(3)+" ; P(B‚à©A) = "+(pb*pab).toFixed(3)+" ; P(B|A) ‚âà "+(pb*pab/pA).toFixed(3);
}
drawArbreProba();
document.getElementById("pb").addEventListener("input", drawArbreProba);
document.getElementById("pab").addEventListener("input", drawArbreProba);
document.getElementById("pab2").addEventListener("input", drawArbreProba);
</script>
</body>
</html>
